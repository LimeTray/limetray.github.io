import{j as e}from"./jsx-runtime-8406ef1e.js";import{r as b}from"./index-ad58220e.js";import{G as o}from"./Grid-8acc9182.js";import{B as se}from"./Button-21321eef.js";import{I as ae}from"./Icon-370c2d23.js";import{I as re}from"./Label-d5345000.js";import{I as B,D as te}from"./ImageAdd-ac6e726d.js";import"./_commonjsHelpers-de833af9.js";import"./extends-4c19d496.js";import"./getElementType-ff0d42f5.js";import"./factories-df82d7d3.js";import"./inheritsLoose-5494d9cc.js";import"./childrenUtils-dd3b0ba5.js";import"./map-20538cdf.js";import"./Ref-51c42093.js";import"./objectWithoutPropertiesLoose-f3b3ace0.js";import"./index-4fee7e45.js";import"./ModernAutoControlledComponent-6bbe7d3d.js";import"./assertThisInitialized-081f9914.js";import"./htmlPropsUtils-2b22d933.js";import"./includes-192f9362.js";import"./Portal-8d2f321a.js";const M=({showAddImageButton:t=!0,initialImages:_,onUpdateImage:f=()=>{},noOfColumns:A=6,draggable:v=!0,onAddImage:C=()=>{}})=>{const[h,l]=b.useState(_),[K,j]=b.useState(null),[m,D]=b.useState(null);b.useEffect(()=>{l(_)},[_]);const $=s=>()=>{D(s)},I=s=>{s.preventDefault()},H=s=>a=>{if(m!==null){const r=[...h],[i]=r.splice(m,1);r.splice(s,0,i),l(r),f(r),D(null),a.currentTarget.classList.remove("dragging-over")}},J=s=>{s.preventDefault();const a=s.dataTransfer.files;if(a&&a.length){const r=a[0];if(r instanceof Blob){const i=URL.createObjectURL(r);l(y=>[...y,{url:i,isDisabled:!1}]),C(r)}}},Z=s=>()=>{const a=h.filter((r,i)=>i!==s);l(a),f(a)},z=s=>()=>{j(s)},Q=()=>{j(null)},x=()=>{const s=document.createElement("input");s.type="file",s.accept="image/*",s.multiple=!1,s.onchange=a=>{const r=a.target.files;if(r&&r.length){const i=r[0];if(i instanceof Blob){const y=URL.createObjectURL(i);l(ee=>[...ee,{url:y,isDisabled:!1}]),C(i)}}},s.click()},X=s=>a=>{m!==null&&m!==s&&a.currentTarget.classList.add("dragging-over")},Y=s=>{s.currentTarget.classList.remove("dragging-over")};return h.length===0&&t?e.jsx(o,{doubling:!0,columns:1,className:"lt-image-grid",padded:!0,children:e.jsx(o.Column,{className:"image-grid-column",textAlign:"center",children:e.jsxs("div",{className:"upload-container",id:"dropZone",onClick:x,children:[e.jsx("div",{className:"upload-icon",children:e.jsx(B,{})}),e.jsxs("div",{className:"upload-text",children:["Upload a file ",e.jsx("b",{children:"or drag and drop"})]}),e.jsx("div",{className:"upload-subtext",children:"PNG, JPG up to 10MB"})]})},"addButton")}):e.jsxs(o,{doubling:!0,columns:A,className:"lt-image-grid",padded:!0,children:[t&&e.jsx(o.Column,{className:"image-grid-column",textAlign:"center",children:e.jsxs("div",{className:"upload-container",onDrop:J,onDragOver:I,id:"dropZone",onClick:x,children:[e.jsx("div",{className:"upload-icon",children:e.jsx(B,{})}),e.jsxs("div",{className:"upload-text",children:["Upload a file ",e.jsx("b",{className:"drag-drop",children:"or drag and drop"})]}),e.jsx("div",{className:"upload-subtext",children:"PNG, JPG up to 10MB"})]})},"addButton"),h.map((s,a)=>e.jsxs(o.Column,{className:"image-grid-column",children:[e.jsx("div",{className:"delete-icon",onClick:Z(a),children:e.jsx(te,{className:"delete-button"})}),e.jsxs("div",{className:v?`image-grid-item ${m===a?"dragging":""}`:"draggable-image-grid-item",onMouseEnter:z(a),onMouseLeave:Q,onDragOver:I,onDrop:H(a),onDragEnter:X(a),onDragLeave:Y,children:[e.jsx(re,{"data-testid":`image-grid-item-${a}`,className:"image",src:s.url,size:"small"}),v&&K===a&&e.jsx("div",{className:"overlay",children:e.jsx("div",{className:"button-group-div",children:e.jsx(se,{circular:!0,icon:e.jsx(ae,{name:"arrows alternate",color:"black"}),draggable:!0,onDragStart:$(a),className:"image-action-button drag-button"})})})]})]},a))]})},W=M;M.__docgenInfo={description:"",methods:[],displayName:"DraggableImageGrid",props:{initialImages:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ url: string, isDisabled: boolean }",signature:{properties:[{key:"url",value:{name:"string",required:!0}},{key:"isDisabled",value:{name:"boolean",required:!0}}]}}],raw:"{ url: string, isDisabled: boolean }[]"},description:""},onUpdateImage:{required:!1,tsType:{name:"signature",type:"function",raw:"(images: { url: string, isDisabled: boolean }[]) => null",signature:{arguments:[{type:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ url: string, isDisabled: boolean }",signature:{properties:[{key:"url",value:{name:"string",required:!0}},{key:"isDisabled",value:{name:"boolean",required:!0}}]}}],raw:"{ url: string, isDisabled: boolean }[]"},name:"images"}],return:{name:"null"}}},description:"",defaultValue:{value:"() => { }",computed:!1}},onAddImage:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: any) => null",signature:{arguments:[{type:{name:"any"},name:"file"}],return:{name:"null"}}},description:"",defaultValue:{value:"() => { }",computed:!1}},noOfColumns:{required:!1,tsType:{name:"SemanticWIDTHS"},description:"",defaultValue:{value:"6",computed:!1}},showAddImageButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},draggable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};const Ne={title:"DraggableImageGrid",component:W},p=t=>e.jsx(W,{...t}),n=p.bind({});n.args={initialImages:[{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1699274534_ChickenChilliGarlicNoodlesServes2.webp"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1660250583_1615915093VegMakhaniBurst.jpg"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1699274950_ClassicFriedRiceServes2.webp"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1675514033_16602346741614332550BrandTile18012021BKClassicVeg2.jpg"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1699275016_VegChilliGarlicFriedRiceServes2.webp"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1699275038_ChickenFriedRiceServes2.webp"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1667214190_ClassicVegDoublePattyBurger.jpg"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1660235092_1655206550Crispychicken.jpg"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1675526671_1667214223ClassicVegDoublePattyBurger.jpg"}],onUpdateImage:t=>console.log(t)};const c=p.bind({});c.args={noOfColumns:4,initialImages:[{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1699274534_ChickenChilliGarlicNoodlesServes2.webp"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1660250583_1615915093VegMakhaniBurst.jpg"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1699274950_ClassicFriedRiceServes2.webp"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1675514033_16602346741614332550BrandTile18012021BKClassicVeg2.jpg"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1699275016_VegChilliGarlicFriedRiceServes2.webp"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1699275038_ChickenFriedRiceServes2.webp"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1667214190_ClassicVegDoublePattyBurger.jpg"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1660235092_1655206550Crispychicken.jpg"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1675526671_1667214223ClassicVegDoublePattyBurger.jpg"}],onUpdateImage:t=>console.log(t)};const u=p.bind({});u.args={noOfColumns:5,showAddImageButton:!1,initialImages:[{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1699274534_ChickenChilliGarlicNoodlesServes2.webp"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1660250583_1615915093VegMakhaniBurst.jpg"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1699274950_ClassicFriedRiceServes2.webp"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1675514033_16602346741614332550BrandTile18012021BKClassicVeg2.jpg"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1699275016_VegChilliGarlicFriedRiceServes2.webp"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1699275038_ChickenFriedRiceServes2.webp"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1667214190_ClassicVegDoublePattyBurger.jpg"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1660235092_1655206550Crispychicken.jpg"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1675526671_1667214223ClassicVegDoublePattyBurger.jpg"}],onUpdateImage:t=>console.log(t)};const g=p.bind({});g.args={noOfColumns:5,draggable:!1,initialImages:[{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1699274534_ChickenChilliGarlicNoodlesServes2.webp"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1660250583_1615915093VegMakhaniBurst.jpg"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1699274950_ClassicFriedRiceServes2.webp"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1675514033_16602346741614332550BrandTile18012021BKClassicVeg2.jpg"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1699275016_VegChilliGarlicFriedRiceServes2.webp"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1699275038_ChickenFriedRiceServes2.webp"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1667214190_ClassicVegDoublePattyBurger.jpg"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1660235092_1655206550Crispychicken.jpg"},{url:"https://assets.limetray.com/assets/user_images/menus/compressed/1675526671_1667214223ClassicVegDoublePattyBurger.jpg"}],onUpdateImage:t=>console.log(t)};const d=p.bind({});d.args={noOfColumns:6,initialImages:[]};var N,S,k;n.parameters={...n.parameters,docs:{...(N=n.parameters)==null?void 0:N.docs,source:{originalSource:"(args: any) => <DraggableImageGrid {...args} />",...(k=(S=n.parameters)==null?void 0:S.docs)==null?void 0:k.source}}};var w,G,V;c.parameters={...c.parameters,docs:{...(w=c.parameters)==null?void 0:w.docs,source:{originalSource:"(args: any) => <DraggableImageGrid {...args} />",...(V=(G=c.parameters)==null?void 0:G.docs)==null?void 0:V.source}}};var R,T,O;u.parameters={...u.parameters,docs:{...(R=u.parameters)==null?void 0:R.docs,source:{originalSource:"(args: any) => <DraggableImageGrid {...args} />",...(O=(T=u.parameters)==null?void 0:T.docs)==null?void 0:O.source}}};var P,F,U;g.parameters={...g.parameters,docs:{...(P=g.parameters)==null?void 0:P.docs,source:{originalSource:"(args: any) => <DraggableImageGrid {...args} />",...(U=(F=g.parameters)==null?void 0:F.docs)==null?void 0:U.source}}};var q,L,E;d.parameters={...d.parameters,docs:{...(q=d.parameters)==null?void 0:q.docs,source:{originalSource:"(args: any) => <DraggableImageGrid {...args} />",...(E=(L=d.parameters)==null?void 0:L.docs)==null?void 0:E.source}}};const Se=["WithCustomImages","WithCustomNoOfColumns","WithoutAddImageButton","notDraggable","Withoutimages"];export{n as WithCustomImages,c as WithCustomNoOfColumns,u as WithoutAddImageButton,d as Withoutimages,Se as __namedExportsOrder,Ne as default,g as notDraggable};
