import{j as e}from"./jsx-runtime-8406ef1e.js";import{r as p,R as U}from"./index-ad58220e.js";import{M as w}from"./Menu-39332c93.js";import{T as X}from"./Tab-f825fc25.js";import{L as k}from"./ltCheckBox-fb658f45.js";import{S as ee}from"./searchComponent-bcb17182.js";import{M as te}from"./ltModal-56d573bd.js";import{L as v}from"./ltButton-612ce8c0.js";import{u as se,T as re}from"./ThemeContext-71b3bf8d.js";import{T as ne}from"./ToggleComponent-7707e758.js";import"./_commonjsHelpers-de833af9.js";import"./extends-4c19d496.js";import"./inheritsLoose-5494d9cc.js";import"./map-20538cdf.js";import"./getElementType-ff0d42f5.js";import"./childrenUtils-dd3b0ba5.js";import"./factories-df82d7d3.js";import"./ModernAutoControlledComponent-6bbe7d3d.js";import"./assertThisInitialized-081f9914.js";import"./_arrayReduce-865b0d3f.js";import"./deburr-94e08562.js";import"./Icon-370c2d23.js";import"./objectWithoutPropertiesLoose-f3b3ace0.js";import"./Grid-8acc9182.js";import"./Segment-17af24fa.js";import"./Checkbox-cb5dd6fb.js";import"./_baseSet-d58de3a8.js";import"./htmlPropsUtils-2b22d933.js";import"./includes-192f9362.js";import"./Ref-51c42093.js";import"./index-4fee7e45.js";import"./Input-3f8aa787.js";import"./Button-21321eef.js";import"./Label-d5345000.js";import"./Portal-8d2f321a.js";import"./Search-36bb2c3d.js";import"./isEmpty-b690c58c.js";import"./index-f77928b3.js";import"./index-6dcb29cb.js";import"./Modal-220c81f3.js";import"./pick-729eb0ec.js";import"./crossIcon-11d15636.js";import"./checkIcon-e2b8e3fe.js";const H=({style:o,className:h,color:m})=>e.jsxs("svg",{width:"19",height:"20",viewBox:"0 0 19 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:m,...o},className:h,children:[e.jsx("g",{"clip-path":"url(#clip0_14122_83033)",children:e.jsx("path",{d:"M7.91667 14.75H11.0833V13.1667H7.91667V14.75ZM2.375 5.25V6.83333H16.625V5.25H2.375ZM4.75 10.7917H14.25V9.20833H4.75V10.7917Z",fill:m||"currentColor"})}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_14122_83033",children:e.jsx("rect",{width:"19",height:"19",fill:"white",transform:"translate(0 0.5)"})})})]});H.__docgenInfo={description:"",methods:[],displayName:"FilterIcon",props:{style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},className:{required:!1,tsType:{name:"string"},description:""},color:{required:!1,tsType:{name:"string"},description:""}}};const b={ALL:"All",SELECTED:"Selected"};const t={BLACK:"#000",WHITE:"#fff",GREEN:"#00CD7C",GRAY:"#9CA3AF"},E={ApplyButtonStyles:{color:t.WHITE,backgroundColor:t.GREEN,display:"flex",paddingBottom:"14px",paddingLeft:"40px",paddingRight:"40px",borderRadius:"20px"},TotalButtonStyles:o=>({color:o?t.WHITE:t.GRAY,fontWeight:"400",fontSize:"14px",padding:"0px"}),ResetButtonStyles:{color:t.GREEN,fontWeight:"400",fontSize:"14px",padding:"0px"}},M=({isOpen:o,onCloseFilter:h,selectedSuboptions:m,onSelectedSuboptionsChange:T,applyButtonDisabled:A=!1,filterOptions:a})=>{const W="Apply Filter",[S,B]=p.useState(""),[x,C]=p.useState(b.ALL),[q,ie]=p.useState(A),[u,K]=p.useState(-1),[c,y]=p.useState([]),[d,j]=p.useState(null),{theme:_}=se(),n=_==="dark";p.useEffect(()=>{y(m)},[m]),p.useEffect(()=>{const s=l=>S.trim()===""?l:l.filter(i=>i.title.toLowerCase().includes(S.toLowerCase())),r=s(u===-1?a.flatMap(l=>l.filters):a[u].filters);j(r)},[S,u,a]);const O=()=>{L(-1),C("Selected")},L=s=>{if(K(s),s===-1){const r=a.flatMap(l=>l.filters);j(r)}else if(a[s]){const r=a[s].filters;j(r)}C(b.ALL),B("")},P=(s,r)=>{if(d){const l=d.map(i=>i.id);r.checked?y(i=>[...i,...l.filter(g=>!i.includes(g))]):y(i=>i.filter(g=>!l.includes(g)))}},F=(s,r)=>{const l=r.value;let i=c;r.checked===!0?i=[...c,l]:i=c.filter(g=>g!==l),y(i)},V=()=>{C("Selected")},$=()=>{C("All")},G=()=>d?!d.map(r=>r.id).some(r=>!c.includes(r)):!1,Q=()=>{T(c),h()},Z=()=>{h()},z=()=>{y([])},Y=s=>{B(s.target.value||"")},J=()=>{let s;return u===-1?s=a:s=[a[u]],s==null?void 0:s.map(r=>r.filters.map(l=>c.includes(l.id)?e.jsx(k,{className:n?"custom-label-dark":"custom-label",value:l.id,checked:c.includes(l.id),label:l.title,onChange:F,color:n?t.WHITE:t.BLACK},l.id):null))};return e.jsxs(te,{open:o,onClose:Z,headerIcon:e.jsx(H,{color:n?t.WHITE:t.BLACK}),header:W,className:"dynamic-filter-modal",showCloseIcon:!0,children:[e.jsxs("div",{className:"dynamic-filter-body",style:n?{background:t.BLACK,color:t.WHITE}:{},children:[e.jsx("div",{className:"Search-filter-div",children:e.jsx(ee,{placeholder:"Search",onChange:Y,value:S})}),e.jsxs("div",{className:"filter-options-container",style:n?{background:t.BLACK,color:t.WHITE}:{},children:[e.jsxs("div",{className:"left-filter-options",style:n?{background:t.BLACK,color:t.WHITE}:{},children:[e.jsx("div",{onClick:L.bind(null,-1),className:`filter-option ${u===-1?"selected":""}`,style:n?{color:t.WHITE,background:t.BLACK}:{},children:"All"}),a.map((s,r)=>e.jsx("div",{className:`filter-option ${u===r?"selected":""}`,onClick:L.bind(null,r),style:n?{color:t.WHITE,background:t.BLACK}:{},children:s.title},s.id))]}),e.jsxs("div",{className:"right-filter-options",style:n?{background:t.BLACK,color:t.WHITE}:{},children:[e.jsx("div",{className:"tab-div",children:e.jsx(X,{menu:{secondary:!0,pointing:!0},className:"tab-menu",panes:[{menuItem:e.jsx(w.Item,{name:"All",className:`AllTab ${x===b.ALL?"activeTab":""}`,onClick:$,style:n?{color:t.BLACK}:{}},"allTab")},{menuItem:e.jsx(w.Item,{name:"Selected",className:`SelectedTab ${x===b.SELECTED?"activeTab":""}`,onClick:V,style:n?{color:t.BLACK}:{}},"selectedTab")}]})}),e.jsxs("div",{className:"checkbox-div",style:n?{background:t.BLACK,color:t.WHITE}:{},children:[x===b.ALL&&d&&d.length>0&&e.jsxs("div",{className:"selectAllCheckbox-div",children:[e.jsx("div",{className:"filter-option-checkbox",children:e.jsx(k,{className:n?"custom-label-dark":"custom-label",label:"All",checked:G(),onChange:P,color:n?t.WHITE:t.BLACK})}),d==null?void 0:d.map(s=>e.jsx("div",{className:"filter-option-checkbox",children:e.jsx(k,{className:n?"custom-label-dark":"custom-label",value:s.id,checked:c.includes(s.id),label:s.title,onChange:F,color:n?t.WHITE:t.BLACK})},s.id))]}),x===b.SELECTED&&J()]})]})]})]}),e.jsxs("div",{className:n?"dark-bottom-button-div":"bottom-button-div",children:[e.jsxs("div",{className:"reset-button-div",children:[e.jsx(v,{label:`${c.length} Selected`,customStyles:E.TotalButtonStyles(n),transparent:!0,onClick:O}),e.jsx(v,{label:"Reset",customStyles:E.ResetButtonStyles,transparent:!0,onClick:z})]}),e.jsx(v,{onClick:Q,label:"Apply",customStyles:E.ApplyButtonStyles,disabled:q})]})]})},R=M;M.__docgenInfo={description:"",methods:[],displayName:"LtDynamicFilter",props:{filterOptions:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: number;
  title: string;
  filters: Filter[];
}`,signature:{properties:[{key:"id",value:{name:"number",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"filters",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: number | string;
  title: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}],required:!0}},{key:"title",value:{name:"string",required:!0}}]}}],raw:"Filter[]",required:!0}}]}}],raw:"FilterOption[]"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},onCloseFilter:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},selectedSuboptions:{required:!0,tsType:{name:"union",raw:"number[] | string[]",elements:[{name:"Array",elements:[{name:"number"}],raw:"number[]"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:""},onSelectedSuboptionsChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(selectedSuboptions: number[] | string[]) => void",signature:{arguments:[{type:{name:"union",raw:"number[] | string[]",elements:[{name:"Array",elements:[{name:"number"}],raw:"number[]"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},name:"selectedSuboptions"}],return:{name:"void"}}},description:""},applyButtonDisabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const Ye={component:R,title:"LtDynamicFilter",tags:["autodocs"],decorators:[o=>e.jsxs(re,{children:[e.jsx("div",{style:{marginBottom:16},children:e.jsx(ne,{})}),e.jsx(o,{})]})],argTypes:{categories:{control:"object"},isOpen:{control:"boolean"},onCloseFilter:{action:"closed"},selectedSuboptions:{control:"object"},onSelectedSuboptionsChange:{action:"selected"},applyButtonDisabled:{control:"boolean"}}},le=o=>{const[h,m]=U.useState(o.isOpen),T=()=>m(!1),A=()=>m(!0);return e.jsxs("div",{children:[e.jsx(v,{label:"Open Dynamic Filter",onClick:A,style:{marginBottom:16}}),e.jsx(R,{...o,isOpen:h,onCloseFilter:T})]})},f=le.bind({});f.args={filterOptions:[{id:1,title:"Products",filters:[{id:"showProducts",title:"Show Products"},{id:"showModifiers",title:"Show Modifiers"}]},{id:2,title:"Status",filters:[{id:"showActive",title:"Show Active"},{id:"showInactive",title:"Show Inactive"}]}],isOpen:!0,onCloseFilter:()=>{},selectedSuboptions:["showProducts"],onSelectedSuboptionsChange:()=>{},applyButtonDisabled:!1};var I,N,D;f.parameters={...f.parameters,docs:{...(I=f.parameters)==null?void 0:I.docs,source:{originalSource:`args => {
  const [isOpen, setIsOpen] = React.useState(args.isOpen);
  const handleCloseFilter = () => setIsOpen(false);
  const handleOpenFilter = () => setIsOpen(true);
  return <div>
      <LtButton label="Open Dynamic Filter" onClick={handleOpenFilter} style={{
      marginBottom: 16
    }}>
      </LtButton>
      <LtDynamicFilter {...args} isOpen={isOpen} onCloseFilter={handleCloseFilter} />
    </div>;
}`,...(D=(N=f.parameters)==null?void 0:N.docs)==null?void 0:D.source}}};const Je=["DynamicFilterExample"];export{f as DynamicFilterExample,Je as __namedExportsOrder,Ye as default};
