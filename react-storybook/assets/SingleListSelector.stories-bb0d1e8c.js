import{j as t}from"./jsx-runtime-ffb262ed.js";import{r as g}from"./index-76fb7be0.js";import{_ as n}from"./lodash-ee9167ea.js";import{F as I}from"./fuse.esm-88e2763d.js";import{R as S}from"./Radio-283da465.js";import{I as x}from"./Input-90a6e334.js";import{C as m}from"./Checkbox-4d253c68.js";/* empty css              */import"./_commonjsHelpers-de833af9.js";import"./extends-98964cd2.js";import"./getElementType-09c91dec.js";import"./inheritsLoose-c82a83d4.js";import"./includes-ad1e3bca.js";import"./factories-11ce6580.js";import"./map-e654f292.js";import"./childrenUtils-9ef4481f.js";import"./htmlPropsUtils-cb2aded5.js";import"./Button-e3382ee2.js";import"./Icon-d9fe74ba.js";import"./Label-5ae2fa2f.js";import"./ModernAutoControlledComponent-c1b6fd56.js";import"./assertThisInitialized-081f9914.js";import"./Portal-1bd82a23.js";import"./index-d3ea75b5.js";import"./Ref-0f7da313.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./_baseSet-c9884042.js";let d=null;class r extends g.Component{constructor(){super(...arguments),this.state={dataList:[],duplicateDataList:[],selectedItems:[],allSelected:!1},this.searchChildrens=e=>{clearTimeout(d),d=setTimeout(()=>{if(e.length>0){const{duplicateDataList:s}=this.state,o=new I(s,{shouldSort:!0,threshold:.3,location:0,distance:100,minMatchCharLength:1,keys:[this.props.keyName]}).search(e);this.setState({dataList:o})}else this.resetChildren()},200)},this.addRemoveItem=(e,s)=>{if(this.props.multiSelection)s?this.addItem(e):this.removeItem(e);else{let i=[e];this.setState({selectedItems:i})}},this.addItem=e=>{const{selectedItems:s}=this.state;let i=[...s,e];this.setState({selectedItems:i}),this.props.selectItem(i)},this.removeItem=e=>{const{selectedItems:s}=this.state;let i=s.filter(o=>o[this.props.keyId]!==e[this.props.keyId]);this.setState({selectedItems:i}),this.props.selectItem(i)},this.resetChildren=()=>{this.setState({dataList:this.props.listItems})},this.selectAll=()=>{let e=[];this.state.allSelected||(e=this.state.dataList),this.setState({selectedItems:e,allSelected:!this.state.allSelected}),this.props.selectItem(e)}}componentDidMount(){let e=n.cloneDeep(this.props.listItems);this.setState({dataList:this.props.listItems,duplicateDataList:e,selectedItems:this.props.selectedItems})}render(){return t.jsx("div",{className:"single-list-selector",children:t.jsxs("div",{className:"left-half",children:[t.jsxs("div",{className:"sticky-header",children:[this.props.multiSelection?t.jsxs("div",{className:"brdr-btm-grey main-header disp-flex spc-btw",children:[this.props.header+` (${this.state.selectedItems.length} selected)`,t.jsxs("div",{onClick:this.selectAll,className:"pntr-crsr disp-flex align-c",children:[t.jsx(m,{className:"margin-right-xs",checked:this.state.allSelected}),"Select All"]})]}):t.jsx("div",{className:"brdr-btm-grey main-header disp-flex spc-btw",children:this.props.header}),t.jsx("div",{className:"brdr-btm-grey search-cntnr",children:t.jsx(x,{icon:{name:"search",color:"blue"},iconPosition:"left",onChange:e=>this.searchChildrens(e.target.value),placeholder:`Search ${this.props.header}`})})]}),t.jsx("div",{children:this.state.dataList&&this.state.dataList.map(e=>{const s=!!n.find(this.state.selectedItems,{[this.props.keyId]:e[this.props.keyId]});return t.jsxs("div",{className:"brdr-btm-grey right-item disp-flex",onClick:()=>this.addRemoveItem(e,!s),children:[this.props.multiSelection?t.jsx(m,{checked:s,className:"margin-right-xs"}):t.jsx(S,{checked:s,className:"margin-right-xs"}),e[this.props.keyName]]},e[this.props.keyId])})})]})})}}r.defaultProps={};r.defaultProps={header:"Header",keyId:"id",keyName:"title",listItems:[{id:1,title:"One"},{id:2,title:"Two"},{id:3,title:"Three"}],selectItem:()=>{console.log("works")},selectedItems:[],multiSelection:!0};const k=r;r.__docgenInfo={description:"",methods:[{name:"searchChildrens",docblock:null,modifiers:[],params:[{name:"text",optional:!1,type:{name:"any"}}],returns:null},{name:"addRemoveItem",docblock:null,modifiers:[],params:[{name:"item",optional:!1,type:{name:"any"}},{name:"status",optional:!1,type:{name:"any"}}],returns:null},{name:"addItem",docblock:null,modifiers:[],params:[{name:"item",optional:!1,type:{name:"any"}}],returns:null},{name:"removeItem",docblock:null,modifiers:[],params:[{name:"item",optional:!1,type:{name:"any"}}],returns:null},{name:"resetChildren",docblock:null,modifiers:[],params:[],returns:null},{name:"selectAll",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SingleListFilter",props:{header:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Header"',computed:!1}},keyId:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"id"',computed:!1}},keyName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"title"',computed:!1}},listItems:{required:!1,tsType:{name:"Array",elements:[{name:"object"}],raw:"object[]"},description:"",defaultValue:{value:`[
  { id: 1, title: "One" },
  { id: 2, title: "Two" },
  { id: 3, title: "Three" },
]`,computed:!1}},selectItem:{required:!1,tsType:{name:"signature",type:"function",raw:"(...args: any[]) => any",signature:{arguments:[{type:{name:"Array",elements:[{name:"any"}],raw:"any[]"},name:"args",rest:!0}],return:{name:"any"}}},description:"",defaultValue:{value:`() => {
  console.log("works");
}`,computed:!1}},selectedItems:{required:!1,tsType:{name:"Array",elements:[{name:"object"}],raw:"object[]"},description:"",defaultValue:{value:"[]",computed:!1}},multiSelection:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};const U={component:k,title:"SingleListSelector",tags:["autodocs"]},a={args:{multiSelection:!1}},l={args:{multiSelection:!0}};var c,p,h;a.parameters={...a.parameters,docs:{...(c=a.parameters)==null?void 0:c.docs,source:{originalSource:`{
  args: {
    multiSelection: false
  }
}`,...(h=(p=a.parameters)==null?void 0:p.docs)==null?void 0:h.source}}};var u,f,y;l.parameters={...l.parameters,docs:{...(u=l.parameters)==null?void 0:u.docs,source:{originalSource:`{
  args: {
    multiSelection: true
  }
}`,...(y=(f=l.parameters)==null?void 0:f.docs)==null?void 0:y.source}}};const X=["WithSingleSelection","WithMultipleSelection"];export{l as WithMultipleSelection,a as WithSingleSelection,X as __namedExportsOrder,U as default};
