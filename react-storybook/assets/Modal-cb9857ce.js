import{a as W,_ as f}from"./extends-d7eb49ad.js";import{_ as p,c as P,g as O,a as w,d as U,u as C,P as Z}from"./getElementType-68bbeded.js";import{_ as ee}from"./pick-f17a2d49.js";import{b as j,R as B,M as ne,i as te}from"./includes-fd62a01a.js";import{s as re,r as oe}from"./index-37107e46.js";import{i as ae}from"./isEmpty-602d078d.js";import{R as u,r as L}from"./index-76fb7be0.js";import{i as D,I as se}from"./Icon-3e17657a.js";import{i as x,d as q,a as I,P as z}from"./Portal-f68bc7ab.js";import{m as ie}from"./map-88496d49.js";import{S as ce}from"./Button-89f13c84.js";var le=x()?u.useLayoutEffect:u.useEffect;const G=le;var ue=/\s+/;function de(n){var t=[];return n?(n.forEach(function(o){if(typeof o.current=="string"){var e=o.current.split(ue);e.forEach(function(r){t.push(r)})}}),t.filter(function(o,e,r){return o.length>0&&r.indexOf(o)===e})):[]}function me(n,t){return[t.filter(function(o){return n.indexOf(o)===-1}),n.filter(function(o){return t.indexOf(o)===-1})]}var K=new Map,H=function(t,o){var e=de(o),r=me(K.get(t)||[],e),c=r[0],l=r[1];t&&(c.forEach(function(a){return t.classList.add(a)}),l.forEach(function(a){return t.classList.remove(a)})),K.set(t,e)},fe=function(){var t=this;this.add=function(o,e){if(t.nodes.has(o)){var r=t.nodes.get(o);r.add(e);return}var c=new Set;c.add(e),t.nodes.set(o,c)},this.del=function(o,e){if(t.nodes.has(o)){var r=t.nodes.get(o);if(r.size===1){t.nodes.delete(o);return}r.delete(e)}},this.emit=function(o,e){e(o,t.nodes.get(o))},this.nodes=new Map},b=new fe;function ve(n,t){var o=u.useRef(),e=u.useRef(!1);G(function(){if(o.current=t,e.current){var r=j(n)?n.current:n;b.emit(r,H)}e.current=!0},[t]),G(function(){var r=j(n)?n.current:n;return b.add(r,o),b.emit(r,H),function(){b.del(r,o),b.emit(r,H)}},[n])}var M=function(n){W(t,n);function t(){for(var e,r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return e=n.call.apply(n,[this].concat(c))||this,e.handleButtonOverrides=function(a){return{onClick:function(i,d){p(a,"onClick",i,d),p(e.props,"onActionClick",i,d)}}},e}var o=t.prototype;return o.render=function(){var r=this,c=this.props,l=c.actions,a=c.children,s=c.className,i=c.content,d=P("actions",s),m=O(t,this.props),v=w(t,this.props);return D(a)?D(i)?u.createElement(v,f({},m,{className:d}),ie(l,function(g){return ce.create(g,{overrideProps:r.handleButtonOverrides})})):u.createElement(v,f({},m,{className:d}),i):u.createElement(v,f({},m,{className:d}),a)},t}(L.Component);M.handledProps=["actions","as","children","className","content","onActionClick"];M.propTypes={};M.create=U(M,function(n){return{actions:n}});function y(n){var t=n.children,o=n.className,e=n.content,r=n.image,c=n.scrolling,l=P(o,C(r,"image"),C(c,"scrolling"),"content"),a=O(y,n),s=w(y,n);return u.createElement(s,f({},a,{className:l}),D(t)?e:t)}y.handledProps=["as","children","className","content","image","scrolling"];y.propTypes={};y.create=U(y,function(n){return{content:n}});function k(n){var t=n.children,o=n.className,e=n.content,r=P("description",o),c=O(k,n),l=w(k,n);return u.createElement(l,f({},c,{className:r}),D(t)?e:t)}k.handledProps=["as","children","className","content"];k.propTypes={};function N(n){var t=n.blurring,o=n.children,e=n.className,r=n.centered,c=n.content,l=n.inverted,a=n.mountNode,s=n.scrolling,i=u.useRef(),d=P("ui",C(l,"inverted"),C(!r,"top aligned"),"page modals dimmer transition visible active",e),m=P("dimmable dimmed",C(t,"blurring"),C(s,"scrolling")),v=O(N,n),g=w(N,n);return ve(a,m),u.useEffect(function(){i.current&&i.current.style&&i.current.style.setProperty("display","flex","important")},[]),u.createElement(B,{innerRef:i},u.createElement(g,f({},v,{className:d}),D(o)?c:o))}N.handledProps=["as","blurring","centered","children","className","content","inverted","mountNode","scrolling"];N.propTypes={};N.create=U(N,function(n){return{content:n}});function E(n){var t=n.children,o=n.className,e=n.content,r=P("header",o),c=O(E,n),l=w(E,n);return u.createElement(l,f({},c,{className:r}),D(t)?e:t)}E.handledProps=["as","children","className","content"];E.propTypes={};E.create=U(E,function(n){return{content:n}});var X=0,pe=50,he=function(t){var o=t.height+X,e=t.height+X,r=window.innerHeight,c=r/2,l=-(e/2),a=pe,s=c+l;return s+o+a<r},ge=function(t,o,e){var r=o&&t?-(e.height/2):0,c=-(e.width/2);return{marginLeft:c,marginTop:r}},Ce=function(){return!window.ActiveXObject&&"ActiveXObject"in window},h=function(n){W(t,n);function t(){for(var e,r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return e=n.call.apply(n,[this].concat(c))||this,e.legacy=x()&&Ce(),e.ref=L.createRef(),e.dimmerRef=L.createRef(),e.latestDocumentMouseDownEvent=null,e.getMountNode=function(){return x()?e.props.mountNode||document.body:null},e.handleActionsOverrides=function(a){return{onActionClick:function(i,d){p(a,"onActionClick",i,d),p(e.props,"onActionClick",i,e.props),e.handleClose(i)}}},e.handleClose=function(a){e.setState({open:!1}),p(e.props,"onClose",a,f({},e.props,{open:!1}))},e.handleDocumentMouseDown=function(a){e.latestDocumentMouseDownEvent=a},e.handleDocumentClick=function(a){var s=e.props.closeOnDimmerClick,i=e.latestDocumentMouseDownEvent;e.latestDocumentMouseDownEvent=null,!(!s||q(e.ref.current,i)||q(e.ref.current,a))&&(e.setState({open:!1}),p(e.props,"onClose",a,f({},e.props,{open:!1})))},e.handleIconOverrides=function(a){return{onClick:function(i){p(a,"onClick",i),e.handleClose(i)}}},e.handleOpen=function(a){p(e.props,"onOpen",a,f({},e.props,{open:!0})),e.setState({open:!0})},e.handlePortalMount=function(a){var s=e.props.eventPool;e.setState({scrolling:!1}),e.setPositionAndClassNames(),I.sub("mousedown",e.handleDocumentMouseDown,{pool:s,target:e.dimmerRef.current}),I.sub("click",e.handleDocumentClick,{pool:s,target:e.dimmerRef.current}),p(e.props,"onMount",a,e.props)},e.handlePortalUnmount=function(a){var s=e.props.eventPool;cancelAnimationFrame(e.animationRequestId),I.unsub("mousedown",e.handleDocumentMouseDown,{pool:s,target:e.dimmerRef.current}),I.unsub("click",e.handleDocumentClick,{pool:s,target:e.dimmerRef.current}),p(e.props,"onUnmount",a,e.props)},e.setPositionAndClassNames=function(){var a=e.props.centered,s,i={};if(e.ref.current){var d=e.ref.current.getBoundingClientRect(),m=he(d);s=!m;var v=e.legacy?ge(m,a,d):{};re(e.state.legacyStyles,v)||(i.legacyStyles=v),e.state.scrolling!==s&&(i.scrolling=s)}ae(i)||e.setState(i),e.animationRequestId=requestAnimationFrame(e.setPositionAndClassNames)},e.renderContent=function(a){var s=e.props,i=s.actions,d=s.basic,m=s.children,v=s.className,g=s.closeIcon,R=s.content,S=s.header,_=s.size,F=s.style,A=e.state,$=A.legacyStyles,T=A.scrolling,J=P("ui",_,C(d,"basic"),C(e.legacy,"legacy"),C(T,"scrolling"),"modal transition visible active",v),V=w(t,e.props),Q=g===!0?"close":g,Y=se.create(Q,{overrideProps:e.handleIconOverrides});return u.createElement(B,{innerRef:e.ref},u.createElement(V,f({},a,{className:J,style:f({},$,F)}),Y,D(m)?u.createElement(u.Fragment,null,E.create(S,{autoGenerateKey:!1}),y.create(R,{autoGenerateKey:!1}),M.create(i,{overrideProps:e.handleActionsOverrides})):m))},e}var o=t.prototype;return o.componentWillUnmount=function(){this.handlePortalUnmount()},o.render=function(){var r=this.props,c=r.centered,l=r.closeOnDocumentClick,a=r.dimmer,s=r.eventPool,i=r.trigger,d=this.state,m=d.open,v=d.scrolling,g=this.getMountNode();if(!x())return L.isValidElement(i)?i:null;var R=O(t,this.props),S=z.handledProps,_=oe(R,function(A,$,T){return te(S,T)||(A[T]=$),A},{}),F=ee(R,S);return u.createElement(z,f({closeOnDocumentClick:l},F,{trigger:i,eventPool:s,mountNode:g,open:m,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),u.createElement(B,{innerRef:this.dimmerRef},N.create(Z(a)?a:{},{autoGenerateKey:!1,defaultProps:{blurring:a==="blurring",inverted:a==="inverted"},overrideProps:{children:this.renderContent(_),centered:c,mountNode:g,scrolling:v}})))},t}(ne);h.handledProps=["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"];h.propTypes={};h.defaultProps={centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"};h.autoControlledProps=["open"];h.Actions=M;h.Content=y;h.Description=k;h.Dimmer=N;h.Header=E;const Re=h;export{Re as M};
