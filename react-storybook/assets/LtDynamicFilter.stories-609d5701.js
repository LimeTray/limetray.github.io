import{j as e}from"./jsx-runtime-8406ef1e.js";import{r as o}from"./index-ad58220e.js";import{M as w}from"./Menu-bab3e750.js";import{T as J}from"./Tab-59b88796.js";import{L as v}from"./ltCheckBox-0aad043f.js";import{S as K}from"./searchComponent-4a6ba8a8.js";import{M as U}from"./ltModal-4828f5c3.js";import{L as A}from"./ltButton-cd737601.js";import"./_commonjsHelpers-de833af9.js";import"./extends-4c19d496.js";import"./inheritsLoose-5494d9cc.js";import"./map-81dc436d.js";import"./getElementType-605cc275.js";import"./childrenUtils-eea4be66.js";import"./factories-5eda43f6.js";import"./ModernAutoControlledComponent-1c638d94.js";import"./assertThisInitialized-081f9914.js";import"./_arrayReduce-865b0d3f.js";import"./deburr-599ca0d8.js";import"./Icon-c71aa201.js";import"./objectWithoutPropertiesLoose-f3b3ace0.js";import"./Segment-8ad59cc5.js";import"./Checkbox-0781458d.js";import"./_baseSet-0be3a8f5.js";import"./htmlPropsUtils-54dd1e2d.js";import"./includes-d285d188.js";import"./Ref-51c42093.js";import"./index-4fee7e45.js";import"./Input-96c3508c.js";import"./Button-4bb9fc92.js";import"./Label-4ead698f.js";import"./Portal-1cdc15ec.js";import"./Search-41509a44.js";import"./isEmpty-984c4ea6.js";import"./index-40c811d2.js";import"./Modal-fc782b95.js";import"./pick-28ba6add.js";import"./checkIcon-670515d6.js";const F=({style:m,className:h})=>e.jsxs("svg",{width:"19",height:"20",viewBox:"0 0 19 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:m,className:h,children:[e.jsx("g",{"clip-path":"url(#clip0_14122_83033)",children:e.jsx("path",{d:"M7.91667 14.75H11.0833V13.1667H7.91667V14.75ZM2.375 5.25V6.83333H16.625V5.25H2.375ZM4.75 10.7917H14.25V9.20833H4.75V10.7917Z",fill:"#111827"})}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_14122_83033",children:e.jsx("rect",{width:"19",height:"19",fill:"white",transform:"translate(0 0.5)"})})})]});F.__docgenInfo={description:"",methods:[],displayName:"FilterIcon",props:{style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const d={ALL:"All",SELECTED:"Selected"};const T={ApplyButtonStyles:{color:"white",backgroundColor:"#00CD7C",marginRight:"30px",display:"flex",paddingBottom:"14px",paddingLeft:"40px",paddingRight:"40px",borderRadius:"20px"},TotalButtonStyles:{color:"#00CD7C",fontWeight:"400",fontSize:"14px"}},D=({isOpen:m,onCloseFilter:h,selectedSuboptions:E,onSelectedSuboptionsChange:I,applyButtonDisabled:B=!1,filterOptions:l})=>{const q="Apply Filter",[b,j]=o.useState(""),[g,y]=o.useState(d.ALL),[_,Y]=o.useState(B),[c,V]=o.useState(-1),[n,f]=o.useState([]),[a,S]=o.useState(null);o.useEffect(()=>{f(E.map(Number))},[]),o.useEffect(()=>{const t=i=>b.trim()===""?i:i.filter(r=>r.title.toLowerCase().includes(b.toLowerCase())),s=t(c===-1?l.flatMap(i=>i.filters):l[c].filters);S(s)},[b,c,l]);const H=()=>{x(-1),y("Selected")},x=t=>{if(V(t),t===-1){const s=l.flatMap(i=>i.filters);S(s)}else if(l[t]){const s=l[t].filters;S(s)}y(d.ALL),j("")},P=(t,s)=>{if(a){const i=a.map(r=>r.id);s.checked?f(r=>[...r,...i.filter(p=>!r.includes(p))]):f(r=>r.filter(p=>!i.includes(p)))}},C=(t,s)=>{const i=s.value;let r=n;s.checked===!0?r=[...n,i]:r=n.filter(p=>p!==i),f(r)},R=()=>{y("Selected")},$=()=>{y("All")},Q=()=>a?!a.map(s=>s.id).some(s=>!n.includes(s)):!1,Z=()=>{I(n),h()},z=()=>{h()},W=t=>{j(t.target.value||"")},G=()=>{let t;return c===-1?t=l:t=[l[c]],t==null?void 0:t.map(s=>s.filters.map(i=>n.includes(i.id)?e.jsx(v,{className:"custom-label",value:i.id,checked:n.includes(i.id),label:i.title,onChange:C},i.id):null))};return e.jsx(U,{open:m,onClose:z,header:e.jsxs("div",{className:"black-filter-icon",children:[e.jsx(F,{}),e.jsx("div",{className:"filterMetric-text",children:q})]}),className:"dynamic-filter-modal",showCloseIcon:!0,children:e.jsxs("div",{className:"dynamic-filter-body",children:[e.jsx("div",{className:"Search-filter-div",children:e.jsx(K,{placeholder:"Search",onChange:W,value:b})}),e.jsxs("div",{className:"filter-options-container",children:[e.jsxs("div",{className:"left-filter-options",children:[e.jsx("div",{onClick:x.bind(null,-1),className:`filter-option ${c===-1?"selected":""}`,children:"All"}),l.map((t,s)=>e.jsx("div",{className:`filter-option ${c===s?"selected":""}`,onClick:x.bind(null,s),children:t.title},t.id))]}),e.jsxs("div",{className:"right-filter-options",children:[e.jsx("div",{className:"tab-div",children:e.jsx(J,{menu:{secondary:!0,pointing:!0},className:"tab-menu",panes:[{menuItem:e.jsx(w.Item,{name:"All",className:`AllTab ${g===d.ALL?"activeTab":""}`,onClick:$},"allTab")},{menuItem:e.jsx(w.Item,{name:"Selected",className:`SelectedTab ${g===d.SELECTED?"activeTab":""}`,onClick:R},"selectedTab")}]})}),e.jsxs("div",{className:"checkbox-div",children:[g===d.ALL&&a&&a.length>0&&e.jsxs("div",{className:"selectAllCheckbox-div",children:[e.jsx("div",{className:"filter-option-checkbox",children:e.jsx(v,{className:"custom-label",label:"All",checked:Q(),onChange:P})}),a==null?void 0:a.map(t=>e.jsx("div",{className:"filter-option-checkbox",children:e.jsx(v,{className:"custom-label",value:t.id,checked:n.includes(t.id),label:t.title,onChange:C})},t.id))]}),g===d.SELECTED&&G()]})]})]}),e.jsxs("div",{className:"bottom-button-div",children:[e.jsx(A,{label:`Total ${n.length} selected`,customStyles:T.TotalButtonStyles,transparent:!0,onClick:H}),e.jsx(A,{onClick:Z,label:"Apply",customStyles:T.ApplyButtonStyles,disabled:_})]})]})})},M=D;D.__docgenInfo={description:"",methods:[],displayName:"LtDynamicFilter",props:{filterOptions:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: number;
  title: string;
  filters: Filter[];
}`,signature:{properties:[{key:"id",value:{name:"number",required:!0}},{key:"title",value:{name:"string",required:!0}},{key:"filters",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: number | string;
  title: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}],required:!0}},{key:"title",value:{name:"string",required:!0}}]}}],raw:"Filter[]",required:!0}}]}}],raw:"FilterOption[]"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},onCloseFilter:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},selectedSuboptions:{required:!0,tsType:{name:"union",raw:"number[] | string[]",elements:[{name:"Array",elements:[{name:"number"}],raw:"number[]"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:""},onSelectedSuboptionsChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(selectedSuboptions: number[] | string[]) => void",signature:{arguments:[{type:{name:"union",raw:"number[] | string[]",elements:[{name:"Array",elements:[{name:"number"}],raw:"number[]"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},name:"selectedSuboptions"}],return:{name:"void"}}},description:""},applyButtonDisabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const _e={component:M,title:"LtDynamicFilter",tags:["autodocs"],argTypes:{categories:{control:"object"},isOpen:{control:"boolean"},onCloseFilter:{action:"closed"},selectedSuboptions:{control:"object"},onSelectedSuboptionsChange:{action:"selected"},applyButtonDisabled:{control:"boolean"}}},X=m=>e.jsx(M,{...m}),u=X.bind({});u.args={filterOptions:[{id:1,title:"Products",filters:[{id:"showProducts",title:"Show Products"},{id:"showModifiers",title:"Show Modifiers"}]},{id:2,title:"Status",filters:[{id:"showActive",title:"Show Active"},{id:"showInactive",title:"Show Inactive"}]}],isOpen:!0,onCloseFilter:()=>{},selectedSuboptions:[],onSelectedSuboptionsChange:()=>{},applyButtonDisabled:!1};var k,L,N;u.parameters={...u.parameters,docs:{...(k=u.parameters)==null?void 0:k.docs,source:{originalSource:"args => <LtDynamicFilter {...args} />",...(N=(L=u.parameters)==null?void 0:L.docs)==null?void 0:N.source}}};const Ve=["DynamicFilterExample"];export{u as DynamicFilterExample,Ve as __namedExportsOrder,_e as default};
