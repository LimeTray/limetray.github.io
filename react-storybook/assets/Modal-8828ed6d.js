import{_ as f}from"./extends-4c19d496.js";import{_ as W}from"./inheritsLoose-5494d9cc.js";import{_ as v,a as x,l as Z}from"./factories-03e2068e.js";import{_ as ee}from"./pick-621ad31c.js";import{i as ne}from"./includes-6af2fe54.js";import{p as te,r as re}from"./index-8fff6de9.js";import{i as oe}from"./isEmpty-8d8d3e94.js";import{c as P,g as O,a as A,u as C}from"./getElementType-486fb75c.js";import{R as u,r as L}from"./index-ad58220e.js";import{M as ae}from"./ModernAutoControlledComponent-4ca57a24.js";import{i as D}from"./childrenUtils-8c0966fa.js";import{i as _,d as j,a as S,P as z}from"./Portal-3e499843.js";import{I as se}from"./Icon-a36dbc07.js";import{m as ie}from"./map-0dadb82a.js";import{B as ce}from"./Button-b40a6544.js";import{i as G,R as H}from"./Ref-51c42093.js";var le=_()?u.useLayoutEffect:u.useEffect;const K=le;var ue=/\s+/;function me(n){var t=[];return n?(n.forEach(function(o){if(typeof o.current=="string"){var e=o.current.split(ue);e.forEach(function(r){t.push(r)})}}),t.filter(function(o,e,r){return o.length>0&&r.indexOf(o)===e})):[]}function de(n,t){return[t.filter(function(o){return n.indexOf(o)===-1}),n.filter(function(o){return t.indexOf(o)===-1})]}var q=new Map,B=function(t,o){var e=me(o),r=de(q.get(t)||[],e),c=r[0],l=r[1];t&&(c.forEach(function(a){return t.classList.add(a)}),l.forEach(function(a){return t.classList.remove(a)})),q.set(t,e)},fe=function(){var t=this;this.add=function(o,e){if(t.nodes.has(o)){var r=t.nodes.get(o);r.add(e);return}var c=new Set;c.add(e),t.nodes.set(o,c)},this.del=function(o,e){if(t.nodes.has(o)){var r=t.nodes.get(o);if(r.size===1){t.nodes.delete(o);return}r.delete(e)}},this.emit=function(o,e){e(o,t.nodes.get(o))},this.nodes=new Map},k=new fe;function pe(n,t){var o=u.useRef(),e=u.useRef(!1);K(function(){if(o.current=t,e.current){var r=G(n)?n.current:n;k.emit(r,B)}e.current=!0},[t]),K(function(){var r=G(n)?n.current:n;return k.add(r,o),k.emit(r,B),function(){k.del(r,o),k.emit(r,B)}},[n])}var M=function(n){W(t,n);function t(){for(var e,r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return e=n.call.apply(n,[this].concat(c))||this,e.handleButtonOverrides=function(a){return{onClick:function(i,m){v(a,"onClick",i,m),v(e.props,"onActionClick",i,m)}}},e}var o=t.prototype;return o.render=function(){var r=this,c=this.props,l=c.actions,a=c.children,s=c.className,i=c.content,m=P("actions",s),d=O(t,this.props),p=A(t,this.props);return D(a)?D(i)?u.createElement(p,f({},d,{className:m}),ie(l,function(g){return ce.create(g,{overrideProps:r.handleButtonOverrides})})):u.createElement(p,f({},d,{className:m}),i):u.createElement(p,f({},d,{className:m}),a)},t}(L.Component);M.handledProps=["actions","as","children","className","content","onActionClick"];M.propTypes={};M.create=x(M,function(n){return{actions:n}});function y(n){var t=n.children,o=n.className,e=n.content,r=n.image,c=n.scrolling,l=P(o,C(r,"image"),C(c,"scrolling"),"content"),a=O(y,n),s=A(y,n);return u.createElement(s,f({},a,{className:l}),D(t)?e:t)}y.handledProps=["as","children","className","content","image","scrolling"];y.propTypes={};y.create=x(y,function(n){return{content:n}});function R(n){var t=n.children,o=n.className,e=n.content,r=P("description",o),c=O(R,n),l=A(R,n);return u.createElement(l,f({},c,{className:r}),D(t)?e:t)}R.handledProps=["as","children","className","content"];R.propTypes={};function N(n){var t=n.blurring,o=n.children,e=n.className,r=n.centered,c=n.content,l=n.inverted,a=n.mountNode,s=n.scrolling,i=u.useRef(),m=P("ui",C(l,"inverted"),C(!r,"top aligned"),"page modals dimmer transition visible active",e),d=P("dimmable dimmed",C(t,"blurring"),C(s,"scrolling")),p=O(N,n),g=A(N,n);return pe(a,d),u.useEffect(function(){i.current&&i.current.style&&i.current.style.setProperty("display","flex","important")},[]),u.createElement(H,{innerRef:i},u.createElement(g,f({},p,{className:m}),D(o)?c:o))}N.handledProps=["as","blurring","centered","children","className","content","inverted","mountNode","scrolling"];N.propTypes={};N.create=x(N,function(n){return{content:n}});function E(n){var t=n.children,o=n.className,e=n.content,r=P("header",o),c=O(E,n),l=A(E,n);return u.createElement(l,f({},c,{className:r}),D(t)?e:t)}E.handledProps=["as","children","className","content"];E.propTypes={};E.create=x(E,function(n){return{content:n}});var X=0,ve=50,he=function(t){var o=t.height+X,e=t.height+X,r=window.innerHeight,c=r/2,l=-(e/2),a=ve,s=c+l;return s+o+a<r},ge=function(t,o,e){var r=o&&t?-(e.height/2):0,c=-(e.width/2);return{marginLeft:c,marginTop:r}},Ce=function(){return!window.ActiveXObject&&"ActiveXObject"in window},h=function(n){W(t,n);function t(){for(var e,r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return e=n.call.apply(n,[this].concat(c))||this,e.legacy=_()&&Ce(),e.ref=L.createRef(),e.dimmerRef=L.createRef(),e.latestDocumentMouseDownEvent=null,e.getMountNode=function(){return _()?e.props.mountNode||document.body:null},e.handleActionsOverrides=function(a){return{onActionClick:function(i,m){v(a,"onActionClick",i,m),v(e.props,"onActionClick",i,e.props),e.handleClose(i)}}},e.handleClose=function(a){e.setState({open:!1}),v(e.props,"onClose",a,f({},e.props,{open:!1}))},e.handleDocumentMouseDown=function(a){e.latestDocumentMouseDownEvent=a},e.handleDocumentClick=function(a){var s=e.props.closeOnDimmerClick,i=e.latestDocumentMouseDownEvent;e.latestDocumentMouseDownEvent=null,!(!s||j(e.ref.current,i)||j(e.ref.current,a))&&(e.setState({open:!1}),v(e.props,"onClose",a,f({},e.props,{open:!1})))},e.handleIconOverrides=function(a){return{onClick:function(i){v(a,"onClick",i),e.handleClose(i)}}},e.handleOpen=function(a){v(e.props,"onOpen",a,f({},e.props,{open:!0})),e.setState({open:!0})},e.handlePortalMount=function(a){var s=e.props.eventPool;e.setState({scrolling:!1}),e.setPositionAndClassNames(),S.sub("mousedown",e.handleDocumentMouseDown,{pool:s,target:e.dimmerRef.current}),S.sub("click",e.handleDocumentClick,{pool:s,target:e.dimmerRef.current}),v(e.props,"onMount",a,e.props)},e.handlePortalUnmount=function(a){var s=e.props.eventPool;cancelAnimationFrame(e.animationRequestId),S.unsub("mousedown",e.handleDocumentMouseDown,{pool:s,target:e.dimmerRef.current}),S.unsub("click",e.handleDocumentClick,{pool:s,target:e.dimmerRef.current}),v(e.props,"onUnmount",a,e.props)},e.setPositionAndClassNames=function(){var a=e.props.centered,s,i={};if(e.ref.current){var m=e.ref.current.getBoundingClientRect(),d=he(m);s=!d;var p=e.legacy?ge(d,a,m):{};te(e.state.legacyStyles,p)||(i.legacyStyles=p),e.state.scrolling!==s&&(i.scrolling=s)}oe(i)||e.setState(i),e.animationRequestId=requestAnimationFrame(e.setPositionAndClassNames)},e.renderContent=function(a){var s=e.props,i=s.actions,m=s.basic,d=s.children,p=s.className,g=s.closeIcon,b=s.content,T=s.header,U=s.size,F=s.style,w=e.state,$=w.legacyStyles,I=w.scrolling,J=P("ui",U,C(m,"basic"),C(e.legacy,"legacy"),C(I,"scrolling"),"modal transition visible active",p),V=A(t,e.props),Q=g===!0?"close":g,Y=se.create(Q,{overrideProps:e.handleIconOverrides});return u.createElement(H,{innerRef:e.ref},u.createElement(V,f({},a,{className:J,style:f({},$,F)}),Y,D(d)?u.createElement(u.Fragment,null,E.create(T,{autoGenerateKey:!1}),y.create(b,{autoGenerateKey:!1}),M.create(i,{overrideProps:e.handleActionsOverrides})):d))},e}var o=t.prototype;return o.componentWillUnmount=function(){this.handlePortalUnmount()},o.render=function(){var r=this.props,c=r.centered,l=r.closeOnDocumentClick,a=r.dimmer,s=r.eventPool,i=r.trigger,m=this.state,d=m.open,p=m.scrolling,g=this.getMountNode();if(!_())return L.isValidElement(i)?i:null;var b=O(t,this.props),T=z.handledProps,U=re(b,function(w,$,I){return ne(T,I)||(w[I]=$),w},{}),F=ee(b,T);return u.createElement(z,f({closeOnDocumentClick:l},F,{trigger:i,eventPool:s,mountNode:g,open:d,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),u.createElement(H,{innerRef:this.dimmerRef},N.create(Z(a)?a:{},{autoGenerateKey:!1,defaultProps:{blurring:a==="blurring",inverted:a==="inverted"},overrideProps:{children:this.renderContent(U),centered:c,mountNode:g,scrolling:p}})))},t}(ae);h.handledProps=["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"];h.propTypes={};h.defaultProps={centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"};h.autoControlledProps=["open"];h.Actions=M;h.Content=y;h.Description=R;h.Dimmer=N;h.Header=E;const _e=h;export{_e as M};
